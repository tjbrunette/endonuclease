#! /usr/bin/env python

# Simple utility for counting the number of unique residues
# involved in AtomPair constraints.

if __name__ == '__main__':
    import sys
    filename = sys.argv[1]
    residues = set()
    num_csts = 0

    with open(filename) as file:
        for line in file:
            if not line.startswith('AtomPair'):
                continue

            cols = line.split()
            resi = int(cols[2])
            resj = int(cols[4])

            residues.add(resi)
            residues.add(resj)
            num_csts += 1

    print 'Filename: %s, total constraints: %d, unique residues: %d' % (filename, num_csts, len(residues))
    
